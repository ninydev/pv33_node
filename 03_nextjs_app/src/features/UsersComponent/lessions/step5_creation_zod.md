### Крок 5: Створення користувача, Zod та Server Actions

У цьому кроці ми реалізували функціонал створення нового користувача, використовуючи сучасні інструменти Next.js та бібліотеку Zod для валідації.

#### 1. Валідація за допомогою Zod
Ми відмовилися від ручної перевірки полів на користь декларативної схеми.
**Файл `schemas.ts`:**
```typescript
export const UserSchema = z.object({
    name: z.string().min(2, { message: "Ім'я має бути не менше 2 символів" }),
    email: z.string().email({ message: "Некоректний формат email" }),
    // ... інші поля
});
```
**Переваги:**
- Централізоване описання правил.
- Автоматична генерація типів TypeScript.
- Легка обробка помилок валідації як на клієнті, так і на сервері.

#### 2. Server Actions замість API-ендпоінтів
Замість того, щоб створювати окремі маршрути API (`/api/users`), ми використали **Server Actions**.
**Файл `actions.ts`:**
```typescript
'use server';
import { ActionState } from './types';

export async function createUserAction(prevState: ActionState, formData: FormData): Promise<ActionState> {
    // Валідація та збереження даних прямо тут!
}
```
Це дозволяє:
- Зменшити кількість клієнтського коду.
- Забезпечити безпеку виконання (код ніколи не потрапляє в браузер).
- Автоматично оновлювати кеш сторінок через `revalidatePath`.

#### 3. Новий хук `useActionState`
Для зв'язку форми з серверним екшеном ми використали хук `useActionState` (раніше відомий як `useFormState`).
Він дозволяє:
- Відстежувати стан завантаження (`isPending`).
- Отримувати результати виконання (повідомлення про успіх або помилки валідації) без ручного керування `useEffect`.

#### 4. Стилізація та прозорість
Ми використали Tailwind CSS з акцентом на прозорість (`bg-transparent`), щоб компонент органічно вписувався в будь-який дизайн, на відміну від жорстко заданого `backgroundColor: '#fff'` у версії React.

#### Порівняння підходів

| Характеристика | React (Client-Side) | Next.js (Server Actions) |
| :--- | :--- | :--- |
| **Валідація** | Часто розкидана по компонентах | Централізована через Zod |
| **Відправка даних** | `axios.post` або `fetch` у `useEffect` | Прямий виклик функції (`form action`) |
| **Обробка стану** | `useState(isLoading, error, data)` | Хук `useActionState` |
| **Оновлення списку** | Потрібно вручну викликати `refresh()` | `revalidatePath` на сервері |

---
**Наступний крок:** Детальна сторінка користувача та динамічні маршрути.
